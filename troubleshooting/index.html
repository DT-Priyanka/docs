<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Troubleshooting - DataTorrent Documentation</title>
  

  <link rel="shortcut icon" href="../favicon.ico">
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Troubleshooting";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-44586211-2', 'docs.datatorrent.com');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> DataTorrent Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">DataTorrent RTS</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Demos</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../demo_videos/">Videos</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../demos/">Running Apps</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../sandbox/">Sandbox</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Development</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../create/">Creating Applications</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Tutorials</span></li>

        
            
    <ul class="subnav">
    <li><span>Top N Words</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tutorials/topnwords/">Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tutorials/topnwords-c1/">Development Environment</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tutorials/topnwords-c2/">Building in Java</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tutorials/topnwords-c3/">Building with dtAssemble</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tutorials/topnwords-c4/">Monitoring with dtManage</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tutorials/topnwords-c5/">Visualizing with dtDashboard</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tutorials/topnwords-c6/">Appendix</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tutorials/sales_dimensions/">Sales Dimenions</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../apex_development_setup/">Apex Development Setup</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">Applications</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../application_packages/">Application Packages</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../configuration_packages/">Configuration Packages</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../operator_development/">Operators</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Library Operators</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../operators/io/file_splitter/">File splitter</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../operators/io/block_reader/">Block reader</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">File Input, S3, NFS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">File Output</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">Deduper</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">HDHT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">DimensionsStore</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">DimenstionComputation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">KafkaInput</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">KafkaOutput</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">Solace</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">JMS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">HBase</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../dtgateway_api/">REST API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../autometrics/">AutoMetric API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">Scalable Design</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Applications</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../dtingest/">dtIngest</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Platform</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../rts/">RTS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../dtmanage/">dtManage</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../dtassemble/">dtAssemble</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../dtdashboard/">dtDashboard</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">dtGateway</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../apex/">Apache Apex</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../apex_malhar/">Apache Apex-Malhar</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Deployment and Operations</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../installation/">Installation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">Configuration</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../dtgateway_security/">Security</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../coming_soon/">dtCli</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Troubleshooting</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#troubleshooting-datatorrent-rts">Troubleshooting DataTorrent RTS</a></li>
                
                    <li><a class="toctree-l4" href="#download">Download</a></li>
                
            
                <li class="toctree-l3"><a href="#installation">Installation</a></li>
                
                    <li><a class="toctree-l4" href="#prerequisites">Prerequisites:</a></li>
                
            
                <li class="toctree-l3"><a href="#upgrade">Upgrade</a></li>
                
            
                <li class="toctree-l3"><a href="#configuration">Configuration</a></li>
                
            
                <li class="toctree-l3"><a href="#development">Development</a></li>
                
            
                <li class="toctree-l3"><a href="#debugging">Debugging</a></li>
                
            
                <li class="toctree-l3"><a href="#how-to-set-custom-log4j-properties-for-an-app-package">How to set custom log4j properties for an app package</a></li>
                
            
                <li class="toctree-l3"><a href="#log-analysis">Log analysis</a></li>
                
                    <li><a class="toctree-l4" href="#how-to-check-stram-logs">How to check stram logs</a></li>
                
                    <li><a class="toctree-l4" href="#how-to-check-application-logs">How to check application logs</a></li>
                
                    <li><a class="toctree-l4" href="#how-to-check-killed-operators-state">How to check killed operator’s state</a></li>
                
                    <li><a class="toctree-l4" href="#how-to-search-for-particular-any-application-or-container">How to search for particular any application or container?</a></li>
                
                    <li><a class="toctree-l4" href="#difference-between-stdout-vs-stderr-vs-dtlog-files">Difference between stdout vs stderr vs dt.log files</a></li>
                
                    <li><a class="toctree-l4" href="#i-am-unable-to-see-logs-what-should-i-do">I am unable to see logs what should I do?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-i-search-within-logs">How do I search within logs?</a></li>
                
            
                <li class="toctree-l3"><a href="#application-launch">Application Launch</a></li>
                
            
                <li class="toctree-l3"><a href="#application-state">Application State</a></li>
                
            
                <li class="toctree-l3"><a href="#events">Events</a></li>
                
                    <li><a class="toctree-l4" href="#how-to-check-container-failures">How to check container failures</a></li>
                
                    <li><a class="toctree-l4" href="#how-to-debug">How to debug</a></li>
                
                    <li><a class="toctree-l4" href="#how-to-search-within-events">How to search within events</a></li>
                
                    <li><a class="toctree-l4" href="#tail-vs-range-mode">tail vs range mode</a></li>
                
                    <li><a class="toctree-l4" href="#what-is-following-button-in-events-pane">What is “following” button in events pane</a></li>
                
            
                <li class="toctree-l3"><a href="#stop-an-application">Stop an application</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../glossary/">Glossary</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../additional_docs/">Resources</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">DataTorrent Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Deployment and Operations &raquo;</li>
        
      
    
    <li>Troubleshooting</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="troubleshooting-datatorrent-rts">Troubleshooting DataTorrent RTS</h1>
<h2 id="download">Download</h2>
<ol>
<li>
<p>Where can I get DataTorrent RTS software OR package for Community /
    Enterprise edition?</p>
<p>DataTorrent products are available for download from <a href="https://www.datatorrent.com/download">https://www.datatorrent.com/download/</a></p>
<p>DataTorrent RTS has two editions for download:</p>
<ul>
<li>
<p>Community Edition:  It is a packaged version of Apache Apex and enables developers to
    quickly develop their big data streaming and batch projects.</p>
<p><a href="http://web.datatorrent.com/DataTorrent-RTS-Community-Edition-Download.html">http://web.datatorrent.com/DataTorrent-RTS-Community-Edition-Download.html</a></p>
</li>
<li>
<p>Enterprise Edition:  This edition is designed for enterprise production deployment and
    includes data analytics, GUI-based app assembly and data visualization.</p>
<p><a href="http://web.datatorrent.com/DataTorrent-RTS-Enteprise-Edition-Download.html">http://web.datatorrent.com/DataTorrent-RTS-Enteprise-Edition-Download.html</a></p>
</li>
</ul>
</li>
<li>
<p>What are DataTorrent RTS package contents of Community / Enterprise
    edition ?</p>
<p>Package contents for Community edition:</p>
<ul>
<li>Apache Apex (incubating)</li>
<li>DataTorrent Demo Applications</li>
<li>DataTorrent dtManage</li>
<li>DataTorrent dtIngest</li>
</ul>
<p>Package contents for Enterprise edition:</p>
<ul>
<li>Apache Apex (incubating)</li>
<li>DataTorrent Demo Applications</li>
<li>DataTorrent Operator Library</li>
<li>DataTorrent Enterprise Security</li>
<li>DataTorrent dtManage</li>
<li>DataTorrent dtIngest</li>
<li>DataTorrent dtAssemble</li>
<li>DataTorrent dtDashboard</li>
</ul>
</li>
<li>
<p>Where can I find the Standard edition installer?</p>
<p>You can use the download link for Enterprise edition as the package is
same for both editions. But, you have to apply the license to enable the
Standard edition. You can upgrade the license by using dtManage.
Licenses are available in 2 types : evaluation and production.</p>
</li>
<li>
<p>What is the difference between DataTorrent RTS editions?</p>
<p>Please refer to <a href="https://www.datatorrent.com/product/edition-overview/">DataTorrent RTS editions
overview</a></p>
</li>
<li>
<p>How do I confirm the package downloaded correctly?</p>
<p>You can verify the downloaded DataTorrent RTS package by comparing with
MD5 sum. The command to get md5 sum of downloaded package:</p>
<pre><code># md5sum &lt;DT_RTS_Package&gt;
</code></pre>
<p>Compare the result with \&lt;TODO> Not available on website
(<a href="https://datatorrent.atlassian.net/browse/WEB-243">WEB-243</a>)</p>
</li>
<li>
<p>How do I download the DataTorrent RTS package using CLI?</p>
<p>Use following curl command to download DataTorrent RTS package:</p>
<pre><code># curl -LSO &lt;DT_RTS_download_link&gt;
</code></pre>
<p>We recommend to use ‘curl’ instead of ‘wget’ to get the package
downloaded without corruption</p>
</li>
<li>
<p>What are the prerequisites of DataTorrent RTS ?</p>
<p>DataTorrent RTS platform has following Hadoop cluster
requirements:</p>
<ul>
<li>Operating system supported by Hadoop distribution</li>
<li>Hadoop (2.2 or above) cluster with HDFS, YARN configured. Make sure
    hadoop executable available in PATH variable</li>
<li>Java 7 or 8 as supported by Hadoop distribution</li>
<li>Minimum of 8G RAM available on the Hadoop cluster</li>
<li>Permissions to create HDFS directory for DataTorrent user</li>
<li>Google Chrome, Firefox, or Safari to access dtManage (DataTorrent UI
    console)</li>
</ul>
</li>
<li>
<p>Where can I start from after downloading DataTorrent RTS?</p>
</li>
<li>
<p>After successful download of DataTorrent RTS, make sure all
      prerequisites are satisfied.</p>
</li>
<li>You will need to install DataTorrent RTS on Hadoop cluster using the
      downloaded installer. For more details, you can refer to
      <a href="../installation/">installation guide</a></li>
<li>
<p>Once installation done, you can configure and monitor applications
      by using dtManage(DataTorrent console)</p>
</li>
<li>
<p>What are the supported Hadoop distribution by DataTorrent RTS?</p>
</li>
</ol>
<p>DataTorrent RTS is a Hadoop 2.x native application and is fully
  integrated with YARN and HDFS providing tight integration with any
  Apache Hadoop 2.x based distribution.</p>
<pre><code>&lt;table&gt;
&lt;col width="50%" /&gt;
&lt;col width="50%" /&gt;
&lt;tbody&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;&lt;p&gt;Hadoop Distribution&lt;/p&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;p&gt;Supported Version&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;&lt;p&gt;Amazon EMR&lt;/p&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;p&gt;Hadoop 2.4 and higher&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;&lt;p&gt;Apache Hadoop&lt;/p&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;p&gt;Hadoop 2.2 and higher&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;&lt;p&gt;Cloudera&lt;/p&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;p&gt;CDH 5.0 and higher&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;&lt;p&gt;Hortonworks&lt;/p&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;p&gt;HDP 2.0 and higher&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;&lt;p&gt;MapR&lt;/p&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;p&gt;4.0 and higher&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;&lt;p&gt;Microsoft&lt;/p&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;p&gt;HDInsight&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;&lt;p&gt;Pivotal&lt;/p&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;p&gt;2.1 and higher&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</code></pre>
<ol>
<li>
<p>What is Datatorrent Sandbox?</p>
<p>DataTorrent Sandbox is a ready to use appliance provides tutorials, demo
applications and dtManage (Web console) to let new user get started
quickly with DataTorrent RTS. It is fully functional single node Hadoop
cluster running in a virtual machine. It is freely available as a
VirtualBox VM.</p>
</li>
<li>
<p>Where do I get sandbox download link?</p>
<p>You can get download link after filling information at the below location:</p>
<p><a href="http://web.datatorrent.com/DataTorrent-RTS-Sandbox-Edition-Download.html">http://web.datatorrent.com/DataTorrent-RTS-Sandbox-Edition-Download.html</a></p>
</li>
<li>
<p>What are the system requirements for sandbox deployment?</p>
<p>The DataTorrent RTS Sandbox is a complete, stand-alone, instance of the
Enterprise Edition as a single-node Hadoop cluster on your local
machine. Following are prerequisites for DataTorrent RTS:</p>
<ul>
<li>Oracle VirtualBox 4.3 or later; Oracle VirtualBox is
    available<a href="https://www.virtualbox.org/"> </a><a href="https://www.virtualbox.org/">here</a></li>
<li>Memory size should be greater than 6 GB</li>
<li>VT-x/AMD-V hardware acceleration (Hardware Virtualization) should be
    enabled in your machine. You can verify this in BIOS settings</li>
</ul>
</li>
<li>
<p>What are the DataTorrent RTS package content details in sandbox?</p>
<ul>
<li>Ubuntu+Apache Hadoop 2.2</li>
<li>Apache Apex (incubating)</li>
<li>Apache Apex-Malhar (incubating) Operator Library</li>
<li>DataTorrent Demo Applications</li>
<li>DataTorrent Operator Library</li>
<li>DataTorrent Enterprise Security</li>
<li>DataTorrent dtManage</li>
<li>DataTorrent dtIngest</li>
<li>DataTorrent dtAssemble</li>
<li>DataTorrent dtDashboard</li>
</ul>
</li>
<li>
<p>What is expected time for sandbox ova?</p>
<p>DataTorrent sandbox’s size is more than 1.5 GB so download time depends
on the network bandwidth availability.  </p>
</li>
<li>
<p>Where do I get dtingest app?</p>
<p>You can get download link after filling information at the below location:</p>
<p><a href="http://web.datatorrent.com/DataTorrent-dtIngest-Download.html">http://web.datatorrent.com/DataTorrent-dtIngest-Download.html</a></p>
</li>
<li>
<p>What are the dtingest package contents?</p>
<p>dtIngest package comprises of DataTorrent RTS bits. The contents are same as DataTorrent RTS package.</p>
</li>
<li>
<p>What are the prerequisites of dtIngest?</p>
<p>DataTorrent RTS 3.x and above. Please refer <a href="http://docs.datatorrent.com/dtingest/">dtIngest tutorial</a> for more details</p>
</li>
<li>
<p>Where can I start from after downloading dtingest?</p>
<ul>
<li>dtIngest package is a complete set of DataTorrent RTS platform,
    hence no separate RTS package is required to download.</li>
<li>Make sure all prerequisites are satisfied before dtIngest
    installation.</li>
<li>You need to install DataTorrent RTS platform on hadoop cluster using
    the downloaded installer. Please refer to DT RTS <a href="https://www.datatorrent.com/docs/README.html">installation
    guide</a></li>
<li>DT RTS serves dtIngest as an application. So after DT RTS
    installation and configuration, you can configure and launch the
    ingestion application from dtManage (DataTorrent console). Please
    refer to <a href="http://docs.datatorrent.com/dtingest/">dtIngest tutorial</a> for
    more details.</li>
</ul>
</li>
<li>
<p>How do I get specific DT version ?</p>
<p>You can find archive list of various DT RTS versions at the end of the
page on the download link forwarded over mail by DataTorrent.
20.  Where can I make request for new license?</p>
<p>Please follow the instructions mentioned at <a href="https://www.datatorrent.com/license-upgrade/">License Upgrade</a></p>
</li>
<li>
<p>Where do I find documentation links?</p>
<p>Please refer to online documentation:  <a href="http://docs.datatorrent.com/">DataTorrent Documentation</a></p>
</li>
<li>
<p>Where can I get Apache Apex related information?</p>
<p>You can refer Apex page for more details: <a href="http://apex.apache.org">Apache Apex</a></p>
</li>
<li>
<p>Do you need help?</p>
<p>You can contact us at <a href="https://www.datatorrent.com/contact">https://www.datatorrent.com/contact</a></p>
</li>
</ol>
<h1 id="installation">Installation</h1>
<p>There are multiple installations available e.g. Sandbox Edition,
  Community Edition, Enterprise Edition, dtIngest. Supported operating
  systems are which support Hadoop platform (tested on CentOS 6.x and
  Ubuntu 12.04).</p>
<p>Following document focuses mainly on Enterprise Edition on Ubuntu 12.04.</p>
<h2 id="prerequisites">Prerequisites:</h2>
<ol>
<li>
<p>Minimum hardware requirements, what happens if certain minimum configuration requirement has not been met?</p>
<p>a.  What happens if minimum RAM requirement is not met?</p>
<ul>
<li><em>Symptoms &amp; errors</em>: ...</li>
<li><em>Resolution</em>: ...</li>
</ul>
</li>
<li>
<p>Minimum software requirements, what happens if certain minimum configuration requirement has not been met?</p>
<p>a.  What happens if java is not installed?</p>
<ul>
<li>
<p><em>Symptoms &amp; errors</em>: “Error: java executable not found. Please ensure java
      or hadoop are installed and available in PATH environment variable
      before proceeding with this installation.”</p>
</li>
<li>
<p><em>Resolution</em>: Install java (6 or 7) from package manager of Linux Distribution and try running installer again.</p>
</li>
</ul>
<p>b.  What happens if Hadoop is not installed?</p>
<ul>
<li>
<p><em>Symptoms &amp; errors</em>: Installation will be successful, however Hadoop
      Configuration page in UI (e.g. http://localhost:9090) will expect hadoop
      binary (/usr/bin/hadoop) &amp; DFS location.</p>
<p><img alt="HadoopConfiguration.png" src="../images/troubleshooting/image02.png" /></p>
</li>
<li>
<p><em>Troubleshooting</em>: Install Hadoop > 2.2.0 and set these configuration parameters.</p>
</li>
</ul>
<p>c.  How do I check if Hadoop is installed and running correctly?</p>
<pre><code>    $ hadoop version

    Hadoop 2.4.0
    Subversion [http://svn.apache.org/repos/asf/hadoop/common](http://svn.apache.org/repos/asf/hadoop/common) -r
    1583262
    Compiled by jenkins on 2014-03-31T08:29Z
    Compiled with protoc 2.5.0
    From source with checksum 375b2832a6641759c6eaf6e3e998147
    This command was run using
    /usr/local/hadoop/share/hadoop/common/hadoop-common-2.4.0.jar

    $ jps

    10211 NameNode
    10772 ResourceManager
    10427 DataNode
    14691 Jps
    10995 NodeManager
</code></pre>
</li>
</ol>
<h3 id="installation_1">Installation:</h3>
<ol>
<li>What happens if the downloaded file is corrupted?</li>
</ol>
<p><strong>Symptoms &amp; errors</strong>: MD5 checksum mismatch error should be seen on
    console: “Verifying archive integrity...Error in MD5 checksums: \&lt;MD5
    checksum> is different from \&lt;MD5 checksum>”.</p>
<pre><code>**Troubleshooting**: Downloaded installer could be corrupt, please download
the installer binary again and try installing.
</code></pre>
<ol>
<li>
<p>Why do I see following permissions errors?</p>
<p><strong>Symptoms &amp; errors</strong>: Following error message will be seen on screen</p>
<p><img alt="Permissions_error.png" src="../images/troubleshooting/image01.png" /></p>
<p><strong>Troubleshooting</strong>: There are different possibilities here:</p>
<ul>
<li>Specified directory does not exist on DFS</li>
<li>Specified directory does not have permissions to user with which DataTorrent is installed or dtGateway is running.<pre><code>$ hadoop dfs -ls /user/&lt;USER&gt;/datatorrent

$ hadoop dfs -mkdir /user/&lt;USER&gt;/datatorrent

$ hadoop dfs -chown &lt;USER&gt; /user/&lt;USER&gt;/datatorrent
</code></pre>
</li>
</ul>
</li>
</ol>
<h1 id="upgrade">Upgrade</h1>
<ol>
<li>License agent behavior on upgrade from 2.0 to 3.0 (Some one had faced issue, his application was getting launched continuously because of license agent)</li>
</ol>
<h1 id="configuration">Configuration</h1>
<p>Coming soon.</p>
<h1 id="development">Development</h1>
<ol>
<li>Scope of hadoop dependencies (use provided scope, don’t bundle any hadoop jar)</li>
<li>I am getting this message in STRAM logs. Is anything wrong in my code?<pre><code>  2015-10-09 04:31:06,749 INFO
  com.datatorrent.stram.StreamingContainerManager: Heartbeat for unknown
  operator 3 (container container\_1443694550865\_0150\_01\_000007)
</code></pre>
</li>
</ol>
<h1 id="debugging">Debugging</h1>
<ol>
<li>
<p>How to remote debug gateway service?</p>
<p>Update hadoop OPTS variable by running,</p>
<pre><code>export HADOOP_OPTS="-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5432 $HADOOP_OPTS
</code></pre>
</li>
<li>
<p>How to setup DEBUG level while running an application?</p>
<p>Add the property :</p>
<pre><code>&lt;property&gt;
  &lt;name&gt;dt.application.&lt;APP-NAME&gt;.attr.DEBUG&lt;/name&gt;
  &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
</code></pre>
</li>
<li>
<p>My gateway is throwing following exception. How should I solve it.</p>
<pre><code>  ERROR YARN Resource Manager has problem: java.net.ConnectException: Call
  From myexample.com/192.168.3.21 to 0.0.0.0:8032 failed on connection
  exception: java.net.ConnectException: Connection refused; For more
  details
  see:[http://wiki.apache.org/hadoop/ConnectionRefused](http://wiki.apache.org/hadoop/ConnectionRefused) at
  sun.reflect.GeneratedConstructorAccessor27.newInstance(Unknown Source)
  at
  sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
  at
</code></pre>
<p>Check if the host where gateway is running has yarn-site.xml file. You
need to have all hadoop configuration files accessible to dtgateway for
it to run successfully.</p>
</li>
</ol>
<h1 id="how-to-set-custom-log4j-properties-for-an-app-package">How to set custom log4j properties for an app package</h1>
<p>There are two ways of setting custom log4j.properties in Apex</p>
<ol>
<li>
<p>Setting custom log4j.properties at the Application level.  This will ensure that custom log4j properties is used for all containers including Application Master.  Following attribute should be set at application level:</p>
<pre><code>&lt;property&gt;
  &lt;name&gt;dt.attr.CONTAINER_JVM_OPTIONS&lt;/name&gt;
  &lt;value&gt;-Dlog4j.configuration=custom_log4j.properties&lt;/value&gt;
&lt;/property&gt;
</code></pre>
</li>
<li>
<p>Setting custom log4j.properties at an individual operator level.  This sets the custom log4j properties only on the container that is hosting the operator.  Following attribute should be set at an operator level:</p>
<pre><code>&lt;property&gt;
  &lt;name&gt;dt.operator.&lt;OPERATOR_NAME&gt;.attr.JVM_OPTIONS&lt;/name&gt;
  &lt;value&gt; -Dlog4j.configuration=custom_log4j.properties&lt;/value&gt;
&lt;/property&gt;
</code></pre>
</li>
</ol>
<p>Make sure that custom_log4j.properties is part of your application jar and is located under <code>src/main/resources</code>.  Following are examples of custom log4j properties files</p>
<ol>
<li>
<p>Writing to a file</p>
<pre><code>log4j.rootLogger=${hadoop.root.logger} // this is set to INFO / DEBUG, RFA
log4j.appender.RFA=org.apache.log4j.RollingFileAppender
log4j.appender.RFA.layout=org.apache.log4j.PatternLayout
log4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} [%t] %-5p %c{2} %M - %m%n
log4j.appender.RFA.File=${hadoop.log.dir}/${hadoop.log.file}
</code></pre>
</li>
<li>
<p>Writing to Console</p>
<pre><code>log4j.rootLogger=${hadoop.root.logger} // this is set to INFO / DEBUG, RFA
log4j.appender.RFA=org.apache.log4j.ConsoleAppender
log4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} [%t] %-5p %c{2} %M - %m%n
log4j.appender.RFA.layout=org.apache.log4j.PatternLayout
</code></pre>
</li>
</ol>
<h1 id="log-analysis">Log analysis</h1>
<h3 id="how-to-check-stram-logs">How to check stram logs</h3>
<p>You can get stram logs from yarn logs or from DT Console.<br />
  1. use command <code>yarn logs -applicationId &lt;applicationId&gt;</code>, first
  container logs  are stram logs.  </p>
<ol>
<li>On dt console, select first container from the Containers List
  widget (default location of this widget is in the “physical” dashboard).
  The first container is numbered 000001. Then click the logs dropdown and
  select the log you want to look at.  </li>
</ol>
<h3 id="how-to-check-application-logs">How to check application logs</h3>
<p>On dt console, select a container from the Containers List widget
(default location of this widget is in the “physical” dashboard). Then
click the logs dropdown and select the log you want to look at.</p>
<p><img alt="console-log-viewing.gif" src="../images/troubleshooting/image00.gif" /></p>
<h3 id="how-to-check-killed-operators-state">How to check killed operator’s state</h3>
<p>On dt console, click on “retrieve killed” button of container List.
Containers List widget’s default location is on the “physical”
dashboard. Then select the appropriate container of killed operator and
check the state.</p>
<p><img alt="RetrieveKilled.gif" src="../images/troubleshooting/image03.gif" /></p>
<h3 id="how-to-search-for-particular-any-application-or-container">How to search for particular any application or container?</h3>
<p>In applications or containers table there is search text box. You can
  type in application name or container number to locate particular
  application or container.</p>
<h3 id="difference-between-stdout-vs-stderr-vs-dtlog-files">Difference between stdout vs stderr vs dt.log files</h3>
<h3 id="i-am-unable-to-see-logs-what-should-i-do">I am unable to see logs what should I do?</h3>
<ul>
<li>Check license?</li>
</ul>
<h3 id="how-do-i-search-within-logs">How do I search within logs?</h3>
<p>Once you navigate to logs page,  </p>
<ol>
<li>Download log file to search using your preferred editor  </li>
<li>use “grep” option and provide the search range “within specified range” or “over entire log”</li>
</ol>
<h1 id="application-launch">Application Launch</h1>
<ol>
<li>Connection Refused Exception</li>
<li>ClassNotFound Exception</li>
<li>Application goes from accepted state to Finished(FAILED) state</li>
</ol>
<p>Check if your application name conflicts with any of the already running
  applications in your cluster. Apex do not allow two application with
  same names run simultaneously.<br />
  Your STRAM logs will have following error:<br />
  “Forced shutdown due to Application master failed due to application
  \&lt;appId> with duplicate application name \&lt;appName> by the same user
  \&lt;user name> is already started.”  </p>
<ol>
<li>ConstraintViolationException while application launch</li>
</ol>
<p>Check if all @NotNull properties of application are set. Apex operator
  properties are meant to configure parameter to operators. Some of the
  properties are must have, marked as @NotNull, to use an operator. If you
  don’t set any of such @NotNull properties application launch will fail
  and stram will throw ConstraintViolationException.    </p>
<ol>
<li>
<p>Launching apa vs jar</p>
</li>
<li>
<p>DAG validation failed</p>
</li>
<li>
<p>Multiple gateways running simultaneously, app not launched.</p>
</li>
<li>
<p>HDFS in safe mode</p>
</li>
</ol>
<h1 id="application-state">Application State</h1>
<ol>
<li>
<p>Application stays in accepted state</p>
</li>
<li>
<p>Some containers do not get resources (specially in case of repartition)</p>
</li>
<li>
<p>Small memory set to operator causes operator kill continuously.</p>
</li>
<li>
<p>Why is the number of events same/different at input and output port of each operator?</p>
</li>
</ol>
<h1 id="events">Events</h1>
<h3 id="how-to-check-container-failures">How to check container failures</h3>
<p>In StramEvents list (default location of this widget is in the “logical”
dashboard), look for event “StopContainer”. Click on “details” button in
front of event to get details of container failure.</p>
<h3 id="how-to-debug">How to debug</h3>
<h3 id="how-to-search-within-events">How to search within events</h3>
<p>You can search events in specified time range. Select “range” mode in
StramEvents widget. Then select from and to timestamp and hit the search
button.</p>
<h3 id="tail-vs-range-mode">tail vs range mode</h3>
<p>tail mode allows you to see events as they come in while range mode
allows you to search for events by time range.</p>
<h3 id="what-is-following-button-in-events-pane">What is “following” button in events pane</h3>
<p>When we enable “following” button the stram events list will
automatically scroll to bottom when new events come in.</p>
<h1 id="stop-an-application">Stop an application</h1>
<ol>
<li>Shutdown vs kill option</li>
<li>Why shutdown doesn’t work? (if some containers are not running)</li>
<li>Can I kill multiple applications at same time?</li>
<li>Killing containers vs killing application</li>
<li>Stram failures (during define partitions)</li>
<li>Thread local + partition parallel configuration</li>
<li>What to do when downstream operators are slow than the input
    operators.</li>
<li>I am seeing high latency, what to do?</li>
<li>appConf in ADT (inside apa file) vs conf option in dtcli</li>
<li>Application keeps restarting (has happened once due to license agent
    during upgrade)</li>
<li>Operator getting killed after every 60 secs (Timeout issue)</li>
<li>How to change commit frequency</li>
<li>Difference between exactly once, at least once and at most once</li>
<li>Thread local vs container local vs node local</li>
<li>Setting operator memory
    a.  Bufferserver memory
    b.  Stram memory</li>
</ol>
<p>a.  Cluster nodes not able to access edge node where Gateway is running
b.  Developers not sure when to process incoming tuples in end window or
    when to do it in process function of operator
c.  How partitioning works</p>
<ol>
<li>
<p>How the data is partitioned between different partitions.</p>
</li>
<li>
<p>How to use stream-codec</p>
</li>
<li>
<p>Data on which ports is partitioned? By default default partitioner partitions data on first port.</p>
</li>
<li>
<p>How to enable stream-codec on multiple ports. (Join operator?? where both input-ports needs to receive same set of keys).</p>
</li>
</ol>
<p>d.  pom dependency management, exclusions etc. eg: Malhar library and
    contrib, Hive (includes hadoop dependencies, we need to explicitly
    exclude), Jersey(we work only with 1.9 version) etc</p>
<p>e.  All non-transient members of the operator object need to be
    serializable. All members that are not serializable cannot be saved
    during checkpoint and must be declared transient (e.g. connection
    objects). This is such a common problem that we need to dedicate a
    section to it.</p>
<p>f.  Exactly once processing mode. Commit operation is supposed to be
    done at endWindow. This is only best-effort exactly once and not
    100% guaranteed exactly once because operators may go down after
    endWindow and before checkpointing finishes.</p>
<p>g.  How to check checkpoint size. (large checkpoint size cause
    instability in the DAG).</p>
<p>h.  How to add custom metrics and metric aggregator.</p>
<p>i.  Example of how to implement dynamic partitioning.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../glossary/" class="btn btn-neutral float-right" title="Glossary"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../coming_soon/" class="btn btn-neutral" title="dtCli"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../coming_soon/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../glossary/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
